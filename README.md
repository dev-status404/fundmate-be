# FundmateBe

## ë°±ì—”ë“œ

| ì„œë²„           | ê¸°ëŠ¥                         | ë‹´ë‹¹ì |
| -------------- | ---------------------------- | ------ |
| gateway        | gateway + nginx ë¦¬ë²„ìŠ¤í”„ë¡ì‹œ | ê¹€ì§€ì„± |
| auth           | auth ë‹´ë‹¹                    | ì´ì •ì€ |
| user           | user ë‹´ë‹¹                    | ì´ì •ì€ |
| funding-public | í€ë”©, ê³µê³µë°ì´í„° ë‹´ë‹¹        | ì´í•˜ì€ |
| payment        | í€ë”© ì˜ˆì•½ ë° íˆìŠ¤íŠ¸ë¦¬        | ê¹€ì§€ì„± |
| ai-document    | AI, PDF ë¬¸ì„œ ë‹´ë‹¹            | ê¹€ì˜ˆì§„ |
| interaction    | ì¢‹ì•„ìš”, ëŒ“ê¸€, ì•Œë¦¼ ë‹´ë‹¹      | ê¹€ì˜ˆì§„ |

---

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

- í€ë”© ì„œë¹„ìŠ¤ í”Œë«í¼ ê°œë°œ
- AI ë° ê³µê³µë°ì´í„° ì‚¬ìš©

---

## ğŸ› ï¸ ì‚¬ìš© ê¸°ìˆ  ë° ë„êµ¬

| í•­ëª©          | ì‚¬ìš© ë„êµ¬          |
| ------------- | ------------------ |
| ì½”ë“œ ì—ë””í„°   | Visual Studio Code |
| DB ë„êµ¬       | MySQL Workbench    |
| API í…ŒìŠ¤íŠ¸    | Postman            |
| ì»¨í…Œì´ë„ˆ í™˜ê²½ | Docker Desktop     |
| ë””ìì¸ íˆ´     | Figma              |
| í˜‘ì—… ë„êµ¬     | Notion, Slack      |

---

## ğŸ“ **Git ì»¨ë²¤ì…˜**

### ë¸Œëœì¹˜ ë„¤ì´ë° ê·œì¹™

`(ìˆ˜ì •ì˜µì…˜)/ê¸°ëŠ¥ì„¤ëª…` í˜•ì‹ì„ ë”°ë¦„  
ì˜ˆ: `feat/login-api`

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

- **Header**: ë³€ê²½ ë‚´ìš©ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½
- **Body**: Headerë¡œ ì¶©ë¶„íˆ í‘œí˜„ ê°€ëŠ¥í•˜ë©´ ìƒëµ ê°€ëŠ¥. í•„ìš”í•˜ë©´ ìì„¸íˆ ì‘ì„±
- **Footer**: ê´€ë ¨ëœ ì´ìŠˆ ë“± ì°¸ê³  ì •ë³´ë¥¼ ê¸°ì¬ ê°€ëŠ¥ (`resolves: #1234`)

#### ë©”ì‹œì§€ í˜•ì‹

// Header, Body, FooterëŠ” ë¹ˆ í–‰ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤.

íƒ€ì…(ìŠ¤ì½”í”„): ì£¼ì œ(ì œëª©) // Header(í—¤ë”)

ë³¸ë¬¸ // Body(ë°”ë””)

ë°”ë‹¥ê¸€ // Footer

//ì˜ˆì‹œ
git commit -m "fix: Safariì—ì„œ ëª¨ë‹¬ì„ ë„ì› ì„ ë•Œ ìŠ¤í¬ë¡¤ ì´ìŠˆ ìˆ˜ì •

ëª¨ë°”ì¼ ì‚¬íŒŒë¦¬ì—ì„œ Carousel ëª¨ë‹¬ì„ ë„ì› ì„ ë•Œ,

ëª¨ë‹¬ ë°–ì˜ ìƒí•˜ ìŠ¤í¬ë¡¤ì´ ì›€ì§ì´ëŠ” ì´ìŠˆ ìˆ˜ì •.

resolves: #1137

#### ì»¤ë°‹ íƒ€ì… ëª©ë¡

| íƒ€ì…  | ì„¤ëª…                                |
| ----- | ----------------------------------- |
| feat  | ìƒˆë¡œìš´ ê¸°ëŠ¥                         |
| fix   | ë²„ê·¸ ìˆ˜ì •                           |
| build | ë¹Œë“œ ê´€ë ¨ íŒŒì¼ ë³€ê²½, ëª¨ë“ˆ ì„¤ì¹˜/ì‚­ì œ |
| chore | ìì˜í•œ ì‘ì—…, ê¸°íƒ€ ë³€ê²½              |
| ci    | CI ì„¤ì • ë³€ê²½                        |
| docs  | ë¬¸ì„œ ë³€ê²½                           |
| style | ì½”ë“œ ìŠ¤íƒ€ì¼/í¬ë§· ë³€ê²½               |
| test  | í…ŒìŠ¤íŠ¸ ì½”ë“œ ë³€ê²½                    |
| perf  | ì„±ëŠ¥ ê°œì„                            |

---


# FundMate Backend Monorepo

FundMateëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(MSA) ê¸°ë°˜ì˜ í€ë”© í”Œë«í¼ìœ¼ë¡œ, ë‹¤ìŒ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ëœ **Nx ëª¨ë…¸ë ˆí¬**ì…ë‹ˆë‹¤:

* `api-gateway`
* `auth`
* `user`
* `funding`
* `payment`
* `publicdata`
* `ai`
* `interaction` (ì¢‹ì•„ìš”, ëŒ“ê¸€ ë“±)

ê° ì„œë¹„ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê°œë°œÂ·ë¹Œë“œÂ·ë°°í¬í•  ìˆ˜ ìˆìœ¼ë©°, EC2 í™˜ê²½ì—ì„œ Docker ë˜ëŠ” PM2 ê¸°ë°˜ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤.

---

## ğŸ“ ëª©ì°¨

1. [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
2. [Nx ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê°œìš”](#-nx-ì›Œí¬ìŠ¤í˜ì´ìŠ¤-ê°œìš”)
3. [í”ŒëŸ¬ê·¸ì¸ ë° í”„ë¡œì íŠ¸ ìƒì„±](#-í”ŒëŸ¬ê·¸ì¸-ë°-í”„ë¡œì íŠ¸-ìƒì„±)
4. [ë¹Œë“œ Â· ì‹¤í–‰ Â· í…ŒìŠ¤íŠ¸](#-ë¹Œë“œ--ì‹¤í–‰--í…ŒìŠ¤íŠ¸)
5. [Docker & EC2 ë°°í¬](#-docker--ec2-ë°°í¬)
6. [í˜‘ì—… Â· ê¸°ì—¬ ê°€ì´ë“œ](#-í˜‘ì—…--ê¸°ì—¬-ê°€ì´ë“œ)
7. [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

```bash
# ë ˆí¬ í´ë¡  & ì˜ì¡´ì„± ì„¤ì¹˜
git clone git@github.com:fundmate/fundmate-be.git
cd fundmate-be
npm ci
```

### ë¡œì»¬ ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npx nx serve api-gateway
# ë˜ëŠ” ê°œë³„ ì„œë¹„ìŠ¤
npx nx serve funding
```

### ë¹Œë“œ (Production Bundle ìƒì„±)

```bash
npx nx build api-gateway
```

### í”„ë¡œì íŠ¸ ì •ë³´ ì¡°íšŒ

```bash
npx nx show project api-gateway
```

### ê·¸ë˜í”„(ì˜ì¡´ì„±) ì‹œê°í™”

```bash
npx nx graph
```

---

## ğŸ“¦ Nx ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ê°œìš”

FundMate ëª¨ë…¸ë ˆí¬ëŠ” Nxë¥¼ í†µí•´ ë‹¤ìŒ ì´ì ì„ ì–»ìŠµë‹ˆë‹¤:

* **ì •êµí•œ ë¹Œë“œ ìºì‹œ & ë³‘ë ¬í™”**: ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë¹ ë¥´ê²Œ ë¦¬ë¹Œë“œ
* **í†µí•© CI/CD íŒŒì´í”„ë¼ì¸**: í•˜ë‚˜ì˜ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì—ì„œ ëª¨ë“  ì„œë¹„ìŠ¤ ìë™í™”
* **ì½”ë“œ ìƒì„±ê¸°(Generator)**: `@nx/node` ë“± í”ŒëŸ¬ê·¸ì¸ì„ í†µí•œ ì¼ê´€ëœ í”„ë¡œì íŠ¸ ìŠ¤ìºí´ë”©

### Nx Cloud ì—°ê²°

CI ì„±ëŠ¥ ìµœì í™”, ë¶„ì‚° ìºì‹œë¥¼ ìœ„í•´ Nx Cloudë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ì¸¡ ìƒë‹¨ ë°°ë„ˆì˜ ë§í¬ë¥¼ í´ë¦­í•˜ì—¬ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ì—°ê²°í•˜ì„¸ìš”.

---

## ğŸ§© í”ŒëŸ¬ê·¸ì¸ ë° í”„ë¡œì íŠ¸ ìƒì„± (@nx/node)

Node.js ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•´ `@nx/node` í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

### ì„¤ì¹˜

```bash
# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìµœìƒìœ„ì—ì„œ
npm install --save-dev @nx/node
```

> í”ŒëŸ¬ê·¸ì¸ ë²„ì „ì€ ë°˜ë“œì‹œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ Nx ë²„ì „ê³¼ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

### ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±

```bash
npx nx g @nx/node:application apps/my-new-service \
  --frontendProject=some-frontend-app  # (Optional) í”„ë¡ì‹œ ì„¤ì •
```

* `serve`: `npx nx serve my-new-service`
* ê¸°ë³¸ í¬íŠ¸ ë° ë””ë²„ê¹… í¬íŠ¸ëŠ” `project.json`ì˜ `serve.options.port`ì—ì„œ ë³€ê²½í•©ë‹ˆë‹¤.

### ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒì„±

```bash
# ê¸°ëŠ¥ë³„ ê³µìš© ì½”ë“œ ë¶„ë¦¬
npx nx g @nx/node:lib libs/my-shared-lib

# npm íŒ¨í‚¤ì§€ ë°°í¬ìš©
npx nx g @nx/node:lib libs/my-publish-lib --buildable --importPath=@fundmate/my-publish-lib
```

---

## ğŸ› ï¸ ë¹Œë“œ Â· ì‹¤í–‰ Â· í…ŒìŠ¤íŠ¸

### ë¹Œë“œ

```bash
npx nx build <service>
# ì˜ˆ) npx nx build payment
```

ë¹Œë“œ ì¶œë ¥ë¬¼ì€ `dist/apps/<service>` ë˜ëŠ” `dist/libs/<lib>`ì— ìƒì„±ë©ë‹ˆë‹¤.

### ì‹¤í–‰

* **ê°œë°œ ëª¨ë“œ**: `npx nx serve <service>`
* **Production**: Node.js + PM2

  ```bash
  cp -r dist/apps/auth /remote/path/auth
  ssh ec2-user@host "pm2 start auth/main.js --name auth"
  ```

### ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸

```bash
npx nx test <service>
```

### E2E í…ŒìŠ¤íŠ¸ (Smoke)

```bash
npx nx e2e api-gateway-e2e
```

---

## ğŸ³ Docker & EC2 ë°°í¬

1. ê° ì„œë¹„ìŠ¤ `apps/<service>/Dockerfile` ì‘ì„±
2. CIì—ì„œ ì´ë¯¸ì§€ ë¹Œë“œ & ë ˆì§€ìŠ¤íŠ¸ë¦¬ í‘¸ì‹œ

   ```yaml
   - name: Build Docker image
     run: |
       docker build -t fundmate/my-service:latest -f apps/my-service/Dockerfile .
       docker push fundmate/my-service:latest
   ```
3. EC2ì—ì„œ `docker pull` & `docker run` ë˜ëŠ” `docker-compose up`

> **Tip:** `docker-compose.yml`ë¡œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ í•œ ë²ˆì— ê´€ë¦¬í•˜ë©´ í¸ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ¤ í˜‘ì—… Â· ê¸°ì—¬ ê°€ì´ë“œ

### ì´ìŠˆ í…œí”Œë¦¿

* `.github/ISSUE_TEMPLATE/bug_report.md`  (ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸)
* `.github/ISSUE_TEMPLATE/feature_request.md`  (âœ¨ ê¸°ëŠ¥ ìš”ì²­)

### PR í…œí”Œë¦¿

* `.github/PULL_REQUEST_TEMPLATE.md`

  ```markdown
  ## ğŸ“¢ PR ìš”ì•½
  ë³€ê²½ ì‚¬í•­ ê°„ëµ ì„¤ëª…

  ## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸
  - [ ] í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
  - [ ] ì½”ë“œ ìŠ¤íƒ€ì¼ í™•ì¸ (ESLint, Prettier)
  - [ ] ê´€ë ¨ ì´ìŠˆ ë²ˆí˜¸ ë§í¬

  ## ğŸ–¼ï¸ ìŠ¤í¬ë¦°ìƒ· (ì„ íƒ)
  ```

### ì½”ë“œ ìŠ¤íƒ€ì¼

* ESLint + Prettier

```bash
npm run lint
npm run format
```

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

* [Conventional Commits](https://www.conventionalcommits.org)

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT Â© FundMate Team
